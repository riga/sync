#!/bin/bash

action() {
    local this_file="$( [ ! -z "$ZSH_VERSION" ] && echo "${(%):-%x}" || echo "${BASH_SOURCE[0]}" )"
    local this_dir="$( cd "$( dirname "$this_file" )" && pwd )"
    local sync_dir="$( dirname "$this_dir" )"

    # use ipython when available, fallback to plain python
    which ipython &> /dev/null
    if [ "$?" = "0" ]; then
        ( cd "$sync_dir" && ipython -i sync -- "$@" )
    else
        ( cd "$sync_dir" && python -i sync "$@" )
    fi
}
action "$@"
